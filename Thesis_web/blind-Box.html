<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Blind Box World</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noindex">
    <!-- Google fonts - Playfair Display-->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Playfair+Display:400,400i,700">
    <!-- owl carousel-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" integrity="sha512-tS3S5qG0BlhnQROyJXvNjeEM4UpMXHrQfTGmbQ1gKmelCxlSEBUaxhRBj/EFTzpbP4RVSrpEikbmdJobCvhE3g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Lightbox -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/glightbox/3.3.0/css/glightbox.min.css" integrity="sha512-T+KoG3fbDoSnlgEXFQqwcTC9AdkFIxhBlmoaFqYaIjq2ShhNwNao9AKaLUPMfwiBPL0ScxAtc+UYbHAgvd+sjQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- theme stylesheet-->
    <link rel="stylesheet" href="https://demo.bootstrapious.com/sell/2-0-1/css/style.default.7acfaf01.css" id="theme-stylesheet">
    <!-- Favicon -->
    <link rel="shortcut icon" href="assets/images/favicon.png">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="assets/css/vendor/fontawesome.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/css/index.css">
    <style>
        .button-container{
            padding: 35px
        }

        /* 深色模式下激活状态的导航链接颜色 */
        [data-bs-theme="dark"] .navbar-nav .nav-link.active,
        [data-bs-theme="dark"] .dropdown-menu
         {
            background-color: #1E293B !important; /* 深色模式下激活状态的背景颜色 */
        }

        /* 深色模式下鼠标悬停状态的导航链接颜色 */
        [data-bs-theme="dark"] .navbar-nav .nav-link:hover {
            background-color: #1E293B !important;
            
        }

        /* 深色模式下 .dropdown-item 的文字颜色 */
        [data-bs-theme="dark"] .dropdown-menu .dropdown-item {
        color: #475569 !important; /* 修改为所需的颜色 */
        }

        /* 深色模式下 .dropdown-item 悬停状态的文字颜色 */
        [data-bs-theme="dark"] .dropdown-menu .dropdown-item:hover {
        color: #8B3DFF !important; /* 修改为所需的颜色 */
        }


    </style>

</head>

<body>
    <header class="header">
        <!-- Top Bar-->
        <div class="top-bar">
            <div class="container-fluid">
                <div class="row d-flex align-items-center">
                    <div class="col-sm-7 d-none d-sm-block">
                        <ul class="list-inline topbar-text mb-0 d-flex justify-content-end">
                            <li class="list-inline-item px-3">Free shipping on orders over $150</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <!-- Top Bar End-->
        <!-- Navbar-->
        <nav class="navbar navbar-expand-lg navbar-sticky navbar-airy navbar-light bg-white">
            <div class="container-fluid">
                <!-- Navbar Header  -->
                <a href="index.html"><img src="assets/images/logo.png" alt="Logo" width="200"></a>

                <!-- Navbar Collapse -->
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse"
                    aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mx-auto">
                        <li class="nav-item"><a class="nav-link " href="index.html">Home</a></li>
                        <li class="nav-item"><a class="nav-link active" href="blind-Box.html">Blind Box</a>
                        <li class="nav-item"><a class="nav-link" href="direct-Buy.html">Shop</a></li>
                        <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
                        <li class="nav-item" id="adminPageLink" style="display: none;"><a class="nav-link" href="AdminHomepage.html">Admin Home</a></li>
                    </ul>

                    <div class="d-flex align-items-center justify-content-between justify-content-lg-end mt-1 mb-2 my-lg-0">
                        <div class="nav-item">
                            <div class="color-modes position-relative ps-3">
                                <a class="bd-theme btn btn-link nav-link dropdown-toggle d-inline-flex align-items-center justify-content-center text-primary p-0 position-relative rounded-circle"
                                    href="#" aria-expanded="true" data-bs-toggle="dropdown" data-bs-display="static"
                                    aria-label="Toggle theme (light)">
                                    <i class="fa-regular fa-sun"></i>
                                </a>

                                <ul class="dropdown-menu dropdown-menu-end fs-14px" data-bs-popper="static">
                                    <li>
                                        <button type="button" class="dropdown-item d-flex align-items-center active" data-bs-theme-value="light" aria-pressed="true">
                                            <i class="fa-regular fa-sun me-4 opacity-50 theme-icon"></i>
                                            Light
                                            <i class="fa-solid fa-check ms-auto d-none"></i>
                                        </button>

                                    </li>
                                    <li>
                                        <button type="button" class="dropdown-item d-flex align-items-center"
                                            data-bs-theme-value="dark" aria-pressed="false">
                                            <i class="fa-solid fa-moon me-4 opacity-50 theme-icon"></i>
                                            Dark
                                            <i class="fa-solid fa-check ms-auto d-none"></i>
                                        </button>

                                    </li>
                                </ul>
                            </div>
                        </div>

                        <div class="nav-item login-margin" id="userAccount">
                            <!-- 登录链接 -->
                            <a class="navbar-icon-link" href="user-login.html" id="userLoginLink">
                                <i class="far fa-user"></i>
                            </a>
                        </div>

                        <!-- Offcanvas Cart Trigger -->
                        <div class="nav-item">
                            <a class="navbar-icon-link" href="#" data-bs-toggle="offcanvas" data-bs-target="#offcanvasCart" aria-controls="offcanvasCart">
                                <i class="fas fa-shopping-cart"></i>
                                <div class="navbar-icon-link-badge" id="cart-badge">0</div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
        <!-- /Navbar -->

        <!-- Offcanvas Cart -->
        <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasCart" aria-labelledby="offcanvasCartLabel">
            <div class="offcanvas-header">
                <h5 id="offcanvasCartLabel">Cart</h5>
                <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
                <ul class="minicart-product-list">
                    <!-- Add items to the cart -->
                </ul>

                <!-- Total Price -->
                <div class="navbar-cart-total">
                    <span class="text-uppercase text-muted">Total</span>
                    <strong class="text-uppercase" id="navBar-total">$00.00</strong>
                </div>
                <!-- Buttons -->
                <div class="buttons">
                    <a href="#" id="viewCartButton" class="btn btn-dark btn-hover-primary">view cart</a>
                    <a href="#" id="checkoutButton" class="btn btn-outline-dark">checkout</a>
                </div>
                <p class="minicart-message" style="text-align: center; margin-top: 20px;">Free Shipping on All Orders Over $100!</p>
            </div>
        </div>

    </header>
    <!-- Navbar end -->

    <!-- Breadcrumbs + Hero-->
    <section class="position-relative dark-overlay py-3 py-lg-7 overflow-hidden" data-parallax="scroll" data-image-src="assets/images/box.png" data-speed="0.3" data-position-x="right">
        <div class="container overlay-content hero hero-page">
            <!-- Breadcrumbs -->
            <ol class="breadcrumb justify-content-center mt-4">
                <li class="breadcrumb-item"><a href="index.html"><span class="span-color1">Home</span></a></li>
                <li class="breadcrumb-item active"><span class="span-color2">Blind Box World</span></li>
            </ol>
            <div class="hero-content pb-5 text-center text-white">
                <h1 class="hero-heading">Amazing Adventure</h1>
                <p class="p-color lead  text-muted">Welcome to the world of blind boxes!!! Here, you can purchase blind box. Uncover the thrill of surprise with
                    each blind box, where every unwrapping brings you closer to discovering unique treasures
                    from a world of mysterying </p>
            </div>
        </div>
    </section>


    <section>
        <div class="button-container text-center py-13">
            <div class="container">
                <div class="card text-center">
                    <div class="card-header">
                      Suprising Blind Box
                    </div>
                    <div class="card-body">
                        <h5 class="card-title">Let's Have a Nice Try!</h5>
                        <p class="card-text">Come on an exciting adventure! You will have an <strong>Very Good</strong> experience.</p>

                        <div class="d-grid gap-2 col-6 mx-auto" style="padding: 20px;">
                            <a href="direct-Buy.html" class="btn btn-blue-green mb-3" role="button" title="Click to see all">Explore all artworks</a>
                            <a href="#" class="btn btn-soft-gradient" data-bs-toggle="modal" data-bs-target="#openBlindBox" title="Open!!! Good Luck!">Open Blind Box</a>
                        </div>
            
                        <!-- Modal -->
                        <div class="modal fade quickview" id="openBlindBox" tabindex="-1" role="dialog" aria-hidden="true">
                            <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                <h1 class="modal-title fs-5" id="staticBackdropLabel">Confirm Purchase Blind Box</h1>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <article class="text-center">
                                        <h2 class="h4">Choose your Blind Box!</h2>
                                        <p class="text-muted">Select a Blind Box for your mystery artwork:</p>
                                        <!-- Price range buttons -->
                                        <div class="btn-group" role="group" aria-label="Price Ranges">
                                            <button type="button" class="btn btn-outline-primary" onclick="openBlindBox(50, 200); return false;">$125</button>
                                            <button type="button" class="btn btn-outline-primary" onclick="openBlindBox(201, 500); return false;">$350</button>
                                            <button type="button" class="btn btn-outline-primary" onclick="openBlindBox(501, 800); return false;">$650</button>
                                            <button type="button" class="btn btn-outline-primary" onclick="openBlindBox(801, 1100); return false;">$950</button>
                                            <button type="button" class="btn btn-outline-primary" onclick="openBlindBox(1101, 1400); return false;">$1250</button>
                                            <button type="button" class="btn btn-outline-primary" onclick="openBlindBox(1401, 1700); return false;">$1550</button>
                                            <button type="button" class="btn btn-outline-primary" onclick="openBlindBox(1701, 2000); return false;">$1850</button>

                                        </div>
                                        <p class="text-muted mt-3">Once opened, blind boxes cannot be returned.</p>
                                        <p class="text-muted">You will receive a random artwork from the selected price range.</p>
                                        <p class="text-muted">Notice: You should pay first before opening the blind box.</p>
                                    </article>
                                </div>
                                <div class="modal-footer">
                                    <div class="text-center">
                                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                    </div>
                                </div>
                            </div>
                            </div>
                        </div>
                    </div>
                    <div class="card-footer text-body-secondary">
                      Don't miss the chance! And don't forget to share your experience with us!
                    </div>
                  </div>
            </div>
        </div>
    </section>


    <!-- Footer -->
    <footer class="main-footer">
        <!-- Services block-->
        <div class="service-block bg-gray-100 text-dark-700 py-6">
            <div class="container">
                <div class="row">
                    <div class="col-lg-4 service-column">
                        <i class="fas fa-shipping-fast fa-3x service-icon"></i>
                        <div class="service-text">
                            <h6 class="text-uppercase">Free shipping &amp; return</h6>
                            <p class="text-muted fw-light text-sm mb-0">Free Shipping over $150</p>
                        </div>
                    </div>
                    <div class="col-lg-4 service-column">
                        <i class="fas fa-money-bill-wave fa-3x service-icon"></i>
                        <div class="service-text">
                            <h6 class="text-uppercase">Money back guarantee</h6>
                            <p class="text-muted fw-light text-sm mb-0">30 Days Money Back Guarantee</p>
                        </div>
                    </div>
                    <div class="col-lg-4 service-column">
                        <i class="fas fa-headset fa-3x service-icon"></i>
                        <div class="service-text">
                            <h6 class="text-uppercase">000-800-056-000</h6>
                            <p class="text-muted fw-light text-sm mb-0">Available Support </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Main block - menus, subscribe form-->
        <div class="footer-main py-6 bg-gray-300 text-muted">
            <div class="container">
                <div class="row">
                    <div class="col-lg-4 mb-5 mb-lg-0">
                        <div class="fw-bold text-uppercase text-lg text-dark mb-3">
                            Blend
                            <span class="text-primary">.</span>
                            Art
                        </div>
                        <p>Purchase directly what you fancy Or Try the Blind Box to get a surprise.</p>
                        <ul class="list-inline">
                            <li class="list-inline-item"><a class="text-muted text-primary-hover" href="#"
                                    target="_blank" title="twitter"><i class="fab fa-twitter"></i></a>
                            </li>
                            <li class="list-inline-item"><a class="text-muted text-primary-hover" href="#"
                                    target="_blank" title="facebook"><i class="fab fa-facebook"></i></a>
                            </li>
                            <li class="list-inline-item"><a class="text-muted text-primary-hover" href="#"
                                    target="_blank" title="instagram"><i class="fab fa-instagram"></i></a>
                            </li>
                        </ul>
                    </div>
                    <div class="col-lg-2 col-md-6 mb-5 mb-lg-0">
                        <h6 class="text-uppercase text-dark mb-3">Shop</h6>
                        <ul class="list-unstyled">
                            <li> <a class="text-muted" href="direct-Buy.html">Directly Purchase</a></li>
                            <li> <a class="text-muted" href="blind-Box.html">For Blind Box</a></li>
                        </ul>
                    </div>
                    <div class="col-lg-2 col-md-6 mb-5 mb-lg-0">
                        <h6 class="text-uppercase text-dark mb-3">Easy-going</h6>
                        <ul class="list-unstyled">
                            <li> <a class="text-muted" href="user-wishlist.html">Wishlist </a></li>
                            <li> <a class="text-muted" href="user-checkout-overview.html">Checkouts </a></li>
                        </ul>
                    </div>
                    <div class="col-lg-4">
                        <h6 class="text-uppercase text-dark mb-3">Daily Offers & Discounts</h6>
                        <p class="mb-3"> Want to get newsletter in time? Subscribe our website!</p>
                        <form id="newsletter-form" action="https://api.web3forms.com/submit" method="POST">
                            <input type="hidden" name="access_key" value="24108a2c-9516-495b-b4dd-b7bc69a8d0e4">

                            <div class="input-group mb-3">
                                <input class="form-control bg-transparent border-secondary " type="email" name="email" placeholder="Your Email Address" aria-label="Your Email Address" style="margin-right: 10px;">

                                <div class="input-group-append">
                                    <button class="btn btn-outline-secondary border-start-0" type="submit">
                                        <i class="fa fa-paper-plane text-lg text-dark"></i>
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <!-- Copyright section of the footer-->
        <div class="py-4 fw-light bg-gray-800 text-gray-300">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-6 text-center text-md-start">
                        <p class="mb-md-0">&copy; 2024 ELTE Thesis. All rights reserved.</p>
                    </div>
                    <div class="col-md-6">
                        <ul class="list-inline mb-0 mt-2 mt-md-0 text-center text-md-end">
                            <li class="list-inline-item"><img class="w-2rem" src="assets/images/visa.svg" alt="visa">
                            </li>
                            <li class="list-inline-item"><img class="w-2rem" src="assets/images/mastercard.svg"
                                    alt="mastercard"></li>
                            <li class="list-inline-item"><img class="w-2rem" src="assets/images/paypal.svg"
                                    alt="paypal"> </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- /Footer end-->

    <!-- Back to top button-->
    <div id="scrollTop">
        <i class="fa fa-long-arrow-alt-up"></i>
    </div>

    <!-- JavaScript files-->
    <!-- jQuery-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js" integrity="sha512-aVKKRRi/Q/YV+4mjoKBsE4x3H+BkegoM/em46NNlCqNTmUYADjBbeNefNxYV7giUp0VxICtqdrbqU7iVaeZNXA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- Bootstrap JavaScript Bundle (Popper.js included)-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/js/bootstrap.bundle.min.js" integrity="sha512-7Pi/otdlbbCR+LnW+F7PwFcSDJOuUJB3OxtEHbg4vSMvzvJjde4Po1v4BR9Gdc9aXNUNFVUY+SK51wWT8WF0Gg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- Owl Carousel-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js" integrity="sha512-bPs7Ae6pVvhOSiIcyUClR7/q2OAsRiovw4vAkX+zJbw3ShAeeqezq50RIIcIURq7Oa20rW2n2q+fyXBNcU9lrw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- Smooth scrolling-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/smooth-scroll/16.1.3/smooth-scroll.polyfills.min.js" integrity="sha512-LZ6YBzwuQvIG41twjliX3HUVeAd+ErnJ0UsqRnkI4firX2l71jxbKJoax/hu7XY2tiyLl0YA2kcnz/XEW+9O3g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- Lightbox gallery-->
    <script src="assets/js/vendor/glightbox.min.js"></script>
    <!-- Object Fit Images - Fallback for browsers that don't support object-fit-->
    <script src="assets/js/vendor/ofi.min.js"></script>
    <script> var basePath = ''; </script>
    <script src="assets/js/theme.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/parallax.js/1.5.0/parallax.min.js" integrity="sha512-Blu6KWaTqestULmtJUTB2mwDFTB/FDRuTHV52Uu5dTFVQZ8YWUq2LuxN/brNEjWAqlHr50oAbxrydsuxoK/mqQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="assets/js/vendor/jquery.cookie.js"></script>
    <script src="assets/js/index.js"></script>
    <script src="assets/js/vendor/fontAwesome.js"></script>
    <script src="assets/js/cart.js"></script>

    <script>
        function openBlindBox(minPrice, maxPrice) {
            const userInfoString = localStorage.getItem('userInfo');

            if (userInfoString) {
                const userInfo = JSON.parse(userInfoString);
                if (confirm('Are you sure you want to open this blind box? Once opened, it cannot be returned.')) {
                    fetch(`http://localhost:8080/artwork/getRandomArtwork?minPrice=${minPrice}&maxPrice=${maxPrice}`)
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('Network response was not ok');
                        }
                        return response.json();
                    })
                    .then(artwork => {
                        if (artwork) {
                            sessionStorage.setItem('receivedArtwork', JSON.stringify(artwork));
                            const price = Math.floor((minPrice + maxPrice) / 2);
                            sessionStorage.setItem('boxPrice', price);
                            // console.log(price);
                            window.location.href = 'openBox-checkout.html';
                        } else {
                            throw new Error('No artwork received');
                        }
                    })
                    .catch(error => {
                        console.error('Error fetching random artwork:', error);
                        alert('Failed to open blind box. Please try again later.');
                    });
        
                } else {
                    console.log('User cancelled the blind box opening.');
                }

                    
                }else{
                    alert('Please login first to open the blind box.');
                    window.location.href = 'user-login.html';
                }
        }

    </script>
</body>

</html>